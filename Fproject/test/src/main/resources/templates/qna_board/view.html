<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout1}">
<head>
  <meta charset="UTF-8">
  <title>게시물 상세 페이지</title>
</head>
<div layout:fragment="content">
<style>
    .layout {
        width: 500px;
        margin: 0 auto;
        margin-top: 40px;
    }

    .layout input {
        width: 100%;
        box-sizing: border-box;
    }

    .layout textarea {
        width: 100%;
        margin-top: 10px;
        min-height: 300px;
    }
    .replyImg{
        width:30px;
        height:30px;
        border-radius: 10px;
    }
</style>
<body>
<hr>
<h1 th:text="${board.title}">제목입니다.</h1>
<p th:text="${board.content}">내용이 들어간 부분입니다.</p>
<a th:href="@{/QnABoard/delete/{id}(id=${board.id})}">글 삭제</a>
<a th:href="@{/QnABoard/modify/{id}(id=${board.id})}">글 수정</a>
<hr>
<div class="input-group mb-3">

  <form id="reply" action="/reply_write" method="post">
    <input type="text" id="content" name="content" class="form-control" placeholder="댓글을 입력해주세요.." aria-label="댓글을 입력해주세요.." aria-describedby="basic-addon2">
    <input type="hidden" id="qna_id" name="qna_id" th:value="${board.id}">
    <div class="input-group-append">
      <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
      <button class="btn btn-outline-secondary" type="submit">등록</button>
    </div>
  </form>
</div>
<table style="border:solid 1px;">
  <thead>
  <tr>
    <th>글번호</th>
    <th>제목</th>
    <th>작성자</th>
    <th>작성일자</th>
  </tr>
  </thead>
  <tbody>
  <tr th:each="reply : ${replyList}" style="border:solid 1px;">
    <td th:text="${reply.id}" style="border:solid 1px;"></td>
    <td>
      <a th:text="${reply.content}" style="border:solid 1px;"></a>
    </td>
    <td th:text="${reply.member.nickname}" style="border:solid 1px;"></td>
    <td th:text="${reply.createDate}" style="border:solid 1px;"></td>
    <td>
      <form action="/reply_delete" method="post">
        <input type="hidden" th:value="${reply.id}" name="id">
        <input type="hidden" th:value="${reply.qnABoard.id}" name="qna_id">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
        <input type="submit" value="삭제">
      </form>
    </td>
    <td><img th:src="${reply.member.picture}" class="replyImg"></td>
  </tr>
  </tbody>
</table>
</body>
</div>
</html>